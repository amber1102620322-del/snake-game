{% extends "base.html" %}
{% block title %}🐍 贪吃蛇 - 首页{% endblock %}

{% block content %}
<div class="home-layout fade-in">
    <!-- ========== 左侧栏 ========== -->
    <div class="home-left">
        <!-- 快捷入口 -->
        <div class="card card-green sidebar-card stagger-1 fade-in" onclick="window.location.href='/records'"
            style="margin-bottom:20px; cursor:pointer;">
            <div class="card-title">
                <span class="card-icon">📊</span>
                个人记录
            </div>
            <p style="color:var(--text-secondary); font-weight:600; font-size:0.9rem;">查看你的游戏历史和最高分</p>
        </div>

        <div class="card card-yellow sidebar-card stagger-2 fade-in" onclick="window.location.href='/records'"
            style="margin-bottom:20px; cursor:pointer;">
            <div class="card-title">
                <span class="card-icon">🏆</span>
                排行榜
            </div>
            <p style="color:var(--text-secondary); font-weight:600; font-size:0.9rem;">与其他玩家一决高下</p>
        </div>

        <div class="card card-purple stagger-3 fade-in" style="margin-bottom:20px;">
            <div class="card-title">
                <span class="card-icon">💡</span>
                游戏攻略
            </div>
            <ul
                style="color:var(--text-secondary); font-weight:600; font-size:0.85rem; padding-left:18px; line-height:2;">
                <li>沿着边缘移动更安全</li>
                <li>提前规划路线很重要</li>
                <li>不要追着尾巴跑</li>
            </ul>
        </div>
    </div>

    <!-- ========== 中央区 ========== -->
    <div class="home-center">
        <div class="game-launcher stagger-2 fade-in">
            <div class="snake-decoration">🐍</div>
            <h1 class="game-launcher-title">贪吃蛇大冒险</h1>
            <p class="game-launcher-subtitle">吃掉食物，不断成长，挑战你的极限！</p>
            <div class="guide-bar"></div>
            <a href="/game" class="btn btn-primary btn-lg" id="playBtn">
                🎮 开始游戏
            </a>
            <p id="guestHint" style="margin-top:12px; display:none;">
                <a href="/game"
                    style="color:var(--candy-blue-dark); font-weight:700; text-decoration:none; font-size:0.95rem;">🎭
                    游客模式试玩</a>
                <span
                    style="display:block; font-size:0.8rem; color:var(--text-light); margin-top:4px;">游客分数不会被保存哦</span>
            </p>
        </div>

        <!-- 最近排行 -->
        <div class="card card-blue stagger-3 fade-in" style="width:100%;">
            <div class="card-title">
                <span class="card-icon">🔥</span>
                最近排行
            </div>
            <div id="homeLeaderboard">
                <div style="text-align:center; padding:16px;">
                    <div class="loading-spinner"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- ========== 右侧栏 ========== -->
    <div class="home-right">
        <div class="card card-red stagger-2 fade-in" style="margin-bottom:20px;">
            <div class="card-title">
                <span class="card-icon">🎯</span>
                今日挑战
            </div>
            <p style="color:var(--text-secondary); font-weight:600; font-size:0.9rem; margin-bottom:12px;">
                达到 <strong style="color:var(--candy-red);">50 分</strong> 即可获得挑战徽章！
            </p>
            <div style="height:8px; background:#f1f5f9; border-radius:4px; overflow:hidden;">
                <div id="challengeBar"
                    style="height:100%; width:0%; background:linear-gradient(90deg, var(--candy-green), var(--candy-yellow)); border-radius:4px; transition: width 1s ease;">
                </div>
            </div>
        </div>

        <div class="card card-orange stagger-3 fade-in" style="margin-bottom:20px;">
            <div class="card-title">
                <span class="card-icon">⭐</span>
                我的状态
            </div>
            <div id="myStatus">
                <p style="color:var(--text-secondary); font-weight:600; font-size:0.9rem;">登录后查看你的状态</p>
            </div>
        </div>

        <div class="card stagger-4 fade-in" style="margin-bottom:20px;">
            <div class="card-title">
                <span class="card-icon">🕹️</span>
                操作提示
            </div>
            <div style="color:var(--text-secondary); font-weight:600; font-size:0.85rem; line-height:2;">
                <div>⬆️ ⬇️ ⬅️ ➡️ 方向键控制</div>
                <div>📱 也支持触屏滑动</div>
                <div>🔄 按空格暂停/继续</div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="/static/js/main.js"></script>
{% endblock %}